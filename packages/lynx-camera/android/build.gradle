apply plugin: 'com.android.library'

android {
    namespace 'com.kafitra.lynxcamera'
    compileSdkVersion 34

    defaultConfig {
        minSdkVersion 21
        targetSdkVersion 34
    }

    compileOptions {
        sourceCompatibility JavaVersion.VERSION_1_8
        targetCompatibility JavaVersion.VERSION_1_8
    }
}

dependencies {
    // Lynx SDK — provided by the host app at runtime; compileOnly avoids duplicate class conflicts
    compileOnly "org.lynxsdk.lynx:lynx:3.6.0"

    // Lynx annotation processor — generates <ClassName>$$PropsSetter for @LynxProp / @LynxUIMethod
    annotationProcessor "org.lynxsdk.lynx:lynx-processor:3.6.0"

    // CameraX — stable, lifecycle-aware camera library
    implementation "androidx.camera:camera-core:1.3.0"
    implementation "androidx.camera:camera-camera2:1.3.0"
    implementation "androidx.camera:camera-lifecycle:1.3.0"
    implementation "androidx.camera:camera-view:1.3.0"

    // Concurrent futures (required by CameraX on API < 24)
    implementation "androidx.concurrent:concurrent-futures:1.1.0"
}
